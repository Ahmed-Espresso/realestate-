<!DOCTYPE html>
<html lang="ar" >
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <title> عقارات </title>
  <script src="https://cdn.polyfill.io/v3/polyfill.min.js?features=default,es6,IntersectionObserver,requestAnimationFrame"></script>
  <link rel="stylesheet" href="theme.css">

  <script>
    (function(){
      const html = document.documentElement;
      const saved = localStorage.getItem('theme') || 'night';
      html.classList.add(`theme-${saved}`);
      html.style.visibility = 'visible';
    })();
  </script>

  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="screen.css">
</head>

<body>
  <div id="loading-spinner" class="spinner"></div>

  <header id="navsec">
    <nav id="nav">
     <div id="nav-btn">
        <button id="toggle-home-btn" class="nav-btn__item">
          <i class="fas fa-home"></i>
          <span id="home-label" data-i18n="home">الرئيسية </span>
        </button>
        <button id="toggle-projects-btn" class="nav-btn__item"  aria-label="Show Projects">
          <i class="fas fa-briefcase"></i>
          <span id="projects-label" data-i18n="prjct">العقارات</span>
        </button>
        <button id="language-toggle" class="nav-btn__item" aria-label="Toggle Language">
          <i class="fas fa-globe"></i>
          <span id="language-label" data-i18n="ar">ar</span>
        </button>
        <button id="theme-toggle" class="nav-btn__item" aria-label="Toggle Mode">
          <i class="fas fa-moon"></i>
          <span id="theme-label" data-i18n="theme">الثيم</span>
        </button>
      </div>
    </nav>
  </header>

  <section id="welcomeSection" class="main-section">
    <div class="welcome-text" id="typing-container">
    </div>
  </section>
  
  <section id="botsection" class="bot-sec main-section">
    <div class="sec-h1">
      <h1 data-i18n="both1">خبير عقارات</h1>
    </div>
  
    <div class="chat-container">
      <div class="chat-header">
        <div class="bot-avatar">
          <img src="bot-avatar.png" alt="Avatar">
        </div>
        <div class="bot-info">
          <span id="bot-name" data-i18n="botname">ريبيكا</span>
          <div class="bot-status">
            <span class="status-dot"></span>
            <span data-i18n="online">متصل الآن</span>
          </div>
        </div>
      </div>
      <div id="chatBox" class="chat-box">
      </div>
      <div class="chat-footer">
        <div class="input-wrapper">
          <div class="input-group">
          <button id="voice-btn" class="voice-btn">
            <i class="fas fa-microphone"></i>
          </button>
            <input type="text" id="userInput" class="chat-input" placeholder="كلمني . . ." 
            data-i18n-placeholder="chat_placeholder">
            <button id="send-btn" onclick="sendBotMessage()" class="send-btn">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
        <div class="quick-suggestions"></div>
      </div>
    </div>
  </section>

  <section id="aboutSection" class="content-section about-section main-section">
    <div class="container">
      <div class="sec-h1">
        <h1 data-i18n="abouth1"> من نحن </h1>
      </div>
      <div id="aboutContent">
       
      </div>
    </div>
  </section>

  <section id="quickContactSection" class="main-section">
    <div class="sec-h1">
      <h1 data-i18n="quickh1">تواصل معنا</h1>
    </div>
    <form id="quickContactForm" class="quick-contact-form">
      <div class="form-group">
        <label for="qcName" data-i18n="quick_name_label">الاسم</label>
        <input type="text" id="qcName" placeholder="" data-i18n-placeholder="quick_name_placeholder" required>
      </div>
      <div class="form-group">
        <label for="qcContact" data-i18n="quick_contact_label">الرقم/الإيميل</label>
        <input type="text" id="qcContact" placeholder="" data-i18n-placeholder="quick_contact_placeholder" required>
      </div>
      <div class="form-group">
        <label for="qcMessage" data-i18n="quick_message_label">الرسالة</label>
        <textarea id="qcMessage" rows="4" placeholder="" data-i18n-placeholder="quick_message_placeholder" required> </textarea>
      </div>
      <div class="qc-buttons">
        <button type="button" id="qcSendWhatsapp">
          <span></span>
          <i aria-hidden="true"></i>
        </button>
        <button type="button" id="qcSendEmail"> 
          <span></span>
          <i aria-hidden="true"></i>
        </button>
      </div>
      <div id="qcUserMessageBox" class="message-box" aria-live="polite"></div>
    </form>
    <div id="contactGrid" class="contact-grid">
    </div>
  </section>

  <section id="portfolioSection" class="main-section">
    <div class="search-container">
      <div class="search-box">
        <div class="search-input-group">
          <button id="voiceSearchBtn" class="voice-btn"><i class="fas fa-microphone"></i></button>
          <input type="text" id="searchName" placeholder="ابحث عن عقار . . .">
          <button id="searchBtn" class="search-btn"><i class="fas fa-search"></i></button>
        </div>
  
        <div class="property-row">
          <label for="propertyType" data-i18n="type_label">نوع العقار:</label>
          <select id="propertyType">
            <option data-i18n="all" value="all">الكل</option>
          </select>
        </div>
  
        <div class="area-row">
          <label for="areaValue" data-i18n="area">المساحة:</label>
          <input type="number" id="areaValue" placeholder="م²" min="0">
          <select id="areaCondition">
            <option data-i18n="greater" value="greater">أكبر من</option>
            <option data-i18n="less"    value="less">أصغر من</option>
          </select>
        </div>
      </div>
  
      <div id="portfolioGrid" class="portfolio-grid"></div>
    </div>
  </section>

  <div id="global-toast" class="qc-toast"></div>
  
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>

  <script type="module" defer src="theme.js"></script>
  <script type="module" defer src="script.js"></script>

</body>
</html>